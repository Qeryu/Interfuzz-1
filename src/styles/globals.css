@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
  /* 统一的字体层级系统 */
  font-size: 16px; /* 基础字体大小调大 */
}

/* 统一字体大小 - 减少层级 */
body {
  @apply text-base; /* 正文 16px */
}

/* 标题层级 */
.heading-1 { @apply text-5xl font-bold; }      /* 页面主标题 48px */
.heading-2 { @apply text-3xl font-semibold; }  /* 区块标题 30px */
.heading-3 { @apply text-xl font-semibold; }   /* 小节标题 20px */

/* 正文层级 */
.text-body { @apply text-base; }      /* 正文 16px */
.text-secondary { @apply text-sm; }   /* 次要文字 14px */
.text-caption { @apply text-xs; }     /* 说明文字 12px */

/* Cards */
.card {
  @apply rounded-2xl bg-card shadow-lg p-6;
}

/* Buttons */
.btn {
  @apply inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/10 hover:bg-white/15 text-white transition-colors;
}
.btn-primary {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-sky-600 hover:bg-sky-500 text-white transition-colors shadow;
}
.btn-secondary {
  @apply inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 hover:bg-white/10 text-white/90 transition-colors;
}
.btn-ghost {
  @apply inline-flex items-center gap-2 px-3 py-2 rounded-xl text-white/80 hover:text-white hover:bg-white/10 transition-colors;
}

/* Inputs */
.input {
  @apply rounded-xl bg-white/10 px-3 py-2 outline-none ring-0 focus:bg-white/15;
}
.textarea {
  @apply rounded-xl bg-white/5 px-3 py-2 outline-none ring-0 focus:bg-white/10 text-sm;
}

/* Badges */
.badge {
  @apply inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs bg-white/10 text-white/80 border border-white/10;
}

/* Scrollbar (webkit) */
*::-webkit-scrollbar { height: 10px; width: 10px; }
*::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.15); border-radius: 999px; }

/* App subtle background grid + glow */
.app-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(800px 400px at 20% 10%, rgba(56, 189, 248, 0.08), transparent 40%),
    radial-gradient(600px 300px at 80% 90%, rgba(99, 102, 241, 0.06), transparent 35%),
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 100% 100%, 100% 100%, 40px 40px, 40px 40px;
  background-position: 0 0, 0 0, 0 0, 0 0;
}

/* Route transition */
@keyframes routeIn {
  from { opacity: 0; transform: translateY(8px) scale(0.995); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}
.route-in {
  animation: routeIn 260ms ease-out;
  will-change: opacity, transform;
}

/* Subtle lively animations */
@keyframes floaty {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}
.float-slow { animation: floaty 6s ease-in-out infinite; }

@keyframes sheen {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.sheen { background-size: 200% 100%; animation: sheen 4s linear infinite; }

/* Shimmer animation for progress bars */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* Fancy generate-seed button */
.seed-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 14px;
  color: #ffffff;
  background: linear-gradient(90deg, rgba(56,189,248,0.22), rgba(16,185,129,0.20)) border-box;
  border: 1px solid rgba(125, 211, 252, 0.35);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 20px rgba(16, 185, 129, 0.12), 0 2px 8px rgba(56,189,248,0.18);
  backdrop-filter: blur(6px) saturate(120%);
  -webkit-backdrop-filter: blur(6px) saturate(120%);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.seed-btn:hover {
  transform: translateY(-1px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08), 0 10px 26px rgba(16, 185, 129, 0.16), 0 4px 12px rgba(56,189,248,0.22);
}
.seed-btn:active {
  transform: translateY(0);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 18px rgba(16, 185, 129, 0.12), 0 2px 8px rgba(56,189,248,0.18);
}
.seed-btn__content { display: inline-flex; align-items: center; gap: 8px; }
.seed-btn__label { display: flex; flex-direction: column; line-height: 1; }
.seed-btn__title { font-weight: 700; font-size: 12px; letter-spacing: 0.2px; }
.seed-btn__subtitle { font-size: 10px; color: rgba(255,255,255,0.65); letter-spacing: 0.3px; }

.seed-btn__sheen {
  pointer-events: none;
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  background: linear-gradient(120deg, transparent 25%, rgba(255,255,255,0.22) 40%, transparent 60%);
  transform: translateX(-120%);
  opacity: 0;
}
.seed-btn:hover .seed-btn__sheen { opacity: 1; animation: seedSheen 2.6s linear infinite; }
@keyframes seedSheen { 0% { transform: translateX(-120%);} 100% { transform: translateX(120%);} }

.seed-btn.is-busy {
  animation: seedPulse 1.6s ease-in-out infinite;
}
@keyframes seedPulse {
  0%, 100% { box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 20px rgba(16, 185, 129, 0.12), 0 2px 8px rgba(56,189,248,0.18); }
  50% { box-shadow: inset 0 0 0 1px rgba(255,255,255,0.10), 0 14px 28px rgba(16, 185, 129, 0.18), 0 6px 16px rgba(56,189,248,0.24); }
}

/* Light theme adjustments */
.theme-light .seed-btn {
  color: #0b1220;
  border-color: rgba(14,165,233,0.35);
  background: linear-gradient(90deg, rgba(14,165,233,0.18), rgba(16,185,129,0.16)) border-box;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.03), 0 6px 16px rgba(14, 165, 233, 0.12), 0 2px 6px rgba(16,185,129,0.10);
}
.theme-light .seed-btn__subtitle { color: rgba(15,23,42,0.66); }

/* Themed surfaces for images/cards to avoid white blocks in dark mode */
.themed-surface { background-color: rgba(255,255,255,0.05); }
.theme-light .themed-surface { background-color: #ffffff; }

/* Neutral caption surface (auto-adapts to theme) */
.caption-surface {
  background-color: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.85);
}
.theme-light .caption-surface {
  background-color: #F8FAFC; /* gray-50 */
  color: #334155; /* slate-700 */
}

/* Code highlighting - Dark theme (VS2015-like) */
.hljs-dark {
  color: #dcdcdc;
}
.hljs-dark .hljs-keyword,
.hljs-dark .hljs-literal,
.hljs-dark .hljs-symbol,
.hljs-dark .hljs-name {
  color: #569cd6;
}
.hljs-dark .hljs-link {
  color: #569cd6;
  text-decoration: underline;
}
.hljs-dark .hljs-built_in,
.hljs-dark .hljs-type {
  color: #4ec9b0;
}
.hljs-dark .hljs-number,
.hljs-dark .hljs-class {
  color: #b8d7a3;
}
.hljs-dark .hljs-string,
.hljs-dark .hljs-meta .hljs-string {
  color: #ce9178;
}
.hljs-dark .hljs-regexp,
.hljs-dark .hljs-template-tag {
  color: #d16969;
}
.hljs-dark .hljs-subst,
.hljs-dark .hljs-function,
.hljs-dark .hljs-title,
.hljs-dark .hljs-params,
.hljs-dark .hljs-formula {
  color: #dcdcaa;
}
.hljs-dark .hljs-comment,
.hljs-dark .hljs-quote {
  color: #6a9955;
  font-style: italic;
}
.hljs-dark .hljs-doctag {
  color: #608b4e;
}
.hljs-dark .hljs-meta,
.hljs-dark .hljs-meta .hljs-keyword,
.hljs-dark .hljs-tag {
  color: #9b9b9b;
}
.hljs-dark .hljs-variable,
.hljs-dark .hljs-template-variable {
  color: #bd63c5;
}
.hljs-dark .hljs-attr,
.hljs-dark .hljs-attribute {
  color: #9cdcfe;
}
.hljs-dark .hljs-section {
  color: gold;
}
.hljs-dark .hljs-emphasis {
  font-style: italic;
}
.hljs-dark .hljs-strong {
  font-weight: bold;
}
.hljs-dark .hljs-addition {
  background-color: #144212;
}
.hljs-dark .hljs-deletion {
  background-color: #600;
}

/* Code highlighting - Light theme (VS-like) */
.hljs-light {
  color: #000000;
}
.hljs-light .hljs-keyword,
.hljs-light .hljs-literal,
.hljs-light .hljs-symbol,
.hljs-light .hljs-name {
  color: #0000ff;
}
.hljs-light .hljs-link {
  color: #0000ff;
  text-decoration: underline;
}
.hljs-light .hljs-built_in,
.hljs-light .hljs-type {
  color: #267f99;
}
.hljs-light .hljs-number,
.hljs-light .hljs-class {
  color: #098658;
}
.hljs-light .hljs-string,
.hljs-light .hljs-meta .hljs-string {
  color: #a31515;
}
.hljs-light .hljs-regexp,
.hljs-light .hljs-template-tag {
  color: #811f3f;
}
.hljs-light .hljs-subst,
.hljs-light .hljs-function,
.hljs-light .hljs-title,
.hljs-light .hljs-params,
.hljs-light .hljs-formula {
  color: #795e26;
}
.hljs-light .hljs-comment,
.hljs-light .hljs-quote {
  color: #008000;
  font-style: italic;
}
.hljs-light .hljs-doctag {
  color: #008000;
}
.hljs-light .hljs-meta,
.hljs-light .hljs-meta .hljs-keyword,
.hljs-light .hljs-tag {
  color: #800000;
}
.hljs-light .hljs-variable,
.hljs-light .hljs-template-variable {
  color: #001080;
}
.hljs-light .hljs-attr,
.hljs-light .hljs-attribute {
  color: #0451a5;
}
.hljs-light .hljs-section {
  color: #e50000;
}
.hljs-light .hljs-emphasis {
  font-style: italic;
}
.hljs-light .hljs-strong {
  font-weight: bold;
}
.hljs-light .hljs-addition {
  background-color: #e6ffed;
}
.hljs-light .hljs-deletion {
  background-color: #ffebe9;
}
